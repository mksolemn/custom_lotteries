!function(e){e(document).ready(function(){e.fn.dumLottoModule=function(t){var o=window.location,n=(o.protocol+"//"+o.host+"/"+o.pathname.split("/")[1],[]),l=e(this),r=new Object,a=this,i=e.extend({lotteryFilter:[],handlebarsTemplate:"",singleElement:".dum-item",dataUrl:"",columns:6,showLogo:!0,showName:!0,showDate:!0,showPot:!0,showSeconds:!0,logoType:"",slotMachine:!1},t),s=e(i.handlebarsTemplate).html(),u=Handlebars.compile(s),c=function(t){e.getJSON({url:t}).done(function(e){r=e,d(e)}).fail(function(){e(".dum-lotto").append("<p>Unable to load lotteries.</p>")})},d=function(e){var t=u(h(e));l.html(t)},h=function(e){for(var t,o=e.data.lotteries,l=o.length,r=i.lotteryFilter.sort(function(e,t){return t-e}),a=l-1;l!=l-r.length;a-=1){for(var s=0;i.lotteryFilter.length>s;s+=1)o[a].id==r[s]&&(n=o.splice(a,1),t=r.splice(s,1));l-=1}return e};Handlebars.registerHelper("switchLogo",function(e){var t=this.logo_lg;switch(console.log(t),i.logoType){case"long":t=this.logo_lg;break;case"square":t=this.logo_sq;break;default:t=this.logo}var o="/images/lottery-logos/";return o+t}),Handlebars.registerHelper("numToText",function(e){var t=new Handlebars.SafeString(e.fn(this)),o=function(){var e;return t.string>=1e9?e=Math.round(t.string/1e9)+" Billion":1e6<t.string.length<1e9&&(e=Math.round(t.string/1e6)+" Million"),e};return o()}),Handlebars.registerHelper("formatTime",function(e){var t=(new Handlebars.SafeString(e.fn(this)),new Date,216e4+Math.floor(6048e5*Math.random())),o=Math.round(t/1e3%60),n=Math.round(t/6e4%60),l=Math.round(t/36e5%24),r=Math.round(t/864e5),a=function(){return n<10&&(n="0"+n),o<10&&(o="0"+o),1==r?r+=" day":0==r?r="":r+=" days",i.showSeconds?r+" "+l+":"+n+":"+o:r+" "+l+":"+n};return a()});var g=function(t,o){console.log("columnize RUNS");var n=(100/t).toFixed(2)+"%";e(o).each(function(){e(this).css({"flex-basis":n})})},m=function(){e(a).css("height",e(i.singleElement).outerHeight())};return c(i.dataUrl),m(),e(document).ajaxComplete(function(){console.log("ajax completed"),g(i.columns,i.singleElement)}),this},e(".dum-lotto").dumLottoModule({lotteryFilter:[1,2,3,5,7,8,10,11,13,21,22,23],dataUrl:"lottery-data.json",handlebarsTemplate:"#lotto-template3",columns:2,showSeconds:!0,logoType:"",slotMachine:!0})})}(jQuery);